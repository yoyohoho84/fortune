{"version":3,"sources":["helpers/api-manager.js","constants.js","helpers/sharing.js","modal/ModalPrize.js","helpers/msToTime.js","panels/Home.js","panels/AdditionalAttempts.js","panels/ApplicationDescription.js","App.js","index.js"],"names":["APIManager","methodName","params","Promise","res","rej","xhr","XMLHttpRequest","open","baseURL","setRequestHeader","responseType","send","JSON","stringify","search","document","location","onload","response","onerror","console","log","status","APP_AVATAR","USER_ID","Number","URLSearchParams","get","callMethod","sharing","type","openAlert","e","getUser","bridge","sendPromise","then","catch","err","url","background_type","attachment","text","result","added","msToTime","time","story","preventDefault","urlPhotoStories","message","attachments","post_id","share","ModalPrize","setActiveModal","addGroup","openModalSharing","referrals","activeModal","id","onClose","header","icon","size","src","caption","style","display","alignItems","justifyContent","flexDirection","mode","href","target","onClick","color","marginTop","width","fontSize","interval","ms","seconds","Math","floor","minutes","hours","Home","snackbar","go","fetchedUser","openPopoutSharing","attempts","allowMessages","timeToAttempt","openModal","getPlatform","useState","angleRotate","setAngleRotate","arr","Date","now","tta","setTta","useEffect","clearInterval","setInterval","className","height","top","duration","a","max","length","resRandom","random","group_id","setTimeout","getRandomArr","disabled","Boolean","AdditionalAttempts","fontWeight","margin","background","padding","borderRadius","data-to","backgroundColor","ApplicationDescription","min","ceil","App","usePlatform","setGetPlatform","activePanel","setActivePanel","popout","setPopout","setSnackbar","setAttempts","timeToStoryShare","setTimeToStoryShare","timeToWallShare","setTimeToWallShare","setTimeToAttempt","subscribe","detail","data","schemeAttribute","createAttribute","value","scheme","body","attributes","setNamedItem","user","layout","before","fill","platform","currentTarget","dataset","to","modal","autoclose","ReactDOM","render","getElementById","default"],"mappings":"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","file":"static/js/main.78d099ed.chunk.js","sourcesContent":["/**\r\n * @typedef {Object} Answer\r\n * @property {'success' | 'denied'} status - Статус ответа\r\n * @property {any} message - Сообщение ответа\r\n */\r\n\r\n/**\r\n * Класс для работы с API\r\n */\r\nexport class APIManager {\r\n  static baseURL = \"https://one-digitalspace.ru/twist/api\";\r\n\r\n  /**\r\n   * @param {string} methodName - Имя метода\r\n   * @param {object} params - Параметры метода\r\n   * @returns {Promise<any>}\r\n   */\r\n  static async callMethod(methodName, params = {}) {\r\n    return new Promise((res, rej) => {\r\n      const xhr = new XMLHttpRequest();\r\n      xhr.open('POST', `${APIManager.baseURL}/${methodName}`, true);\r\n      xhr.setRequestHeader('Content-Type', 'application/json');\r\n      xhr.responseType = \"json\";\r\n\r\n      xhr.send(JSON.stringify({\r\n        ...params,\r\n        search: document.location.search\r\n      }));\r\n\r\n      xhr.onload = function() {\r\n        res(xhr.response);\r\n      };\r\n      // Нужно задеплоить с этим способом отправки запроса\r\n      xhr.onerror = function() { // происходит, только когда запрос совсем не получилось выполнить\r\n        console.log(xhr.status); \r\n      };\r\n    });\r\n\r\n    // try {\r\n    //   const response = await fetch(`${APIManager.baseURL}/${methodName}`, {\r\n    //     method: \"POST\",\r\n    //     headers: {\r\n    //       \"Content-Type\": \"application/json\",\r\n    //     },\r\n    //     body: JSON.stringify({\r\n    //       ...params,\r\n    //       search: document.location.search\r\n    //     }),\r\n    //   });\r\n  \r\n    //   return response.json();\r\n    // } catch (e) {\r\n    //   console.log('1 API Error: ', e);\r\n    //   console.log('2 API Error: ', e.stack);\r\n    //   console.log('2 API Error: ', e.message);\r\n    // }\r\n  }\r\n}\r\n","export const APP_ID = 7637811;\r\nexport const GROUP_ID = 199716716;\r\nexport const APP_AVATAR = \"https://sun9-40.userapi.com/2OpcaRTr0LoA2SGgN8fWhcvt_fm3iXwmf34f3Q/26Gcr6w9RQg.jpg\";\r\nexport const APP_IMG_SHARING = \"https://sun9-72.userapi.com/WES9FMw1we-u5a4DlmZvnhNOkgNkkwHlLMuPHA/EWuISCLcHdg.jpg\";\r\nexport const APP_IMG_SHARING_WALL = \"photo-198555148_457239083\";\r\nexport const NAME_PROJECT = \"КОЛЕСО УДАЧИ\";\r\n\r\nexport const USER_ID = Number(\r\n  new URLSearchParams(document.location.search).get(\"vk_user_id\")\r\n);","import bridge from \"@vkontakte/vk-bridge\";\r\nimport {\r\n  APP_ID,\r\n  APP_IMG_SHARING,\r\n  APP_IMG_SHARING_WALL,\r\n  USER_ID,\r\n} from \"../constants\";\r\n\r\nimport { APIManager, msToTime } from './';\r\nconst { callMethod } = APIManager;\r\n\r\nexport function sharing(type, openAlert, e, getUser) {\r\n  switch (type) {\r\n    case \"app-notification\":\r\n      appNotification(getUser);\r\n      break;\r\n    case \"story\":\r\n      story(getUser, openAlert);\r\n      break;\r\n    case \"share-wall\":\r\n      share(e, getUser, openAlert);\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n}\r\n\r\n// запрос на отправку уведомлений\r\nfunction appNotification() {\r\n  bridge\r\n    .sendPromise(\"VKWebAppAllowNotifications\")\r\n    .then((res) => {\r\n      console.log(\"res\", res);\r\n      if(res){\r\n        // пользователь разрешил отправку сообщений\r\n      }\r\n    })\r\n    .catch((err) => {\r\n      console.log(\"err\", err);\r\n    });\r\n}\r\n\r\n//  Поделиться в истории\r\nfunction story(getUser, openAlert) {\r\n  const url = `https://vk.com/app${APP_ID}#${USER_ID}`;\r\n\r\n  bridge.sendPromise(\"VKWebAppShowStoryBox\", {\r\n    background_type: \"image\",\r\n    url: APP_IMG_SHARING,\r\n    attachment: {\r\n      text: \"go_to\",\r\n      type: \"url\",\r\n      url: url,\r\n    },\r\n  }).then((res) => {\r\n    if (res.result) {\r\n      return callMethod('story');\r\n    }\r\n  }).then((res) => {\r\n    if (res.added === true) {\r\n      openAlert(\"Вы получили 1 бонусную попытку\");\r\n    } else {\r\n      openAlert(`Ещё одну попытку за историю можно получить через ${msToTime(res.time)}`);\r\n    }\r\n    getUser();\r\n  });\r\n}\r\n\r\n//  ДОБАВЛЕНИЕ РЕПОСТА НА СТЕНУ ПОЛЬЗОВАТЕЛЯ\r\nfunction share(e, getUser, openAlert) {\r\n  e.preventDefault();\r\n  const url = `https://vk.com/app${APP_ID}#${USER_ID}`;\r\n  const urlPhotoStories = `${APP_IMG_SHARING_WALL},https://vk.com/app${APP_ID}#${USER_ID}`;\r\n  // const textStories = `Заходи в приложение и узнай, кого лайкает или кому пишет твоя вторая половинка, Приложение - ${url}`;\r\n\r\n  bridge.send(\"VKWebAppShowWallPostBox\", {\r\n    message: \"\",\r\n    // message: textStories,\r\n    attachments: urlPhotoStories,\r\n  }).then((res) => {\r\n    if (res.post_id > 0) {\r\n      return callMethod('wall');\r\n    }\r\n  }).then((res) => {\r\n    if (res.added === true) {\r\n      openAlert(\"Вы получили 1 бонусную попытку\");\r\n    } else {\r\n      openAlert(`Ещё одну попытку за репост можно получить через ${msToTime(res.time)}`);\r\n    }\r\n    getUser();\r\n  });\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { ModalRoot, ModalCard, Avatar, Div, Button } from \"@vkontakte/vkui\";\r\nimport { NAME_PROJECT, APP_AVATAR } from \"../constants\";\r\n\r\nconst ModalPrize = ({\r\n  setActiveModal,\r\n  addGroup,\r\n  openModalSharing,\r\n  referrals,\r\n}) => {\r\n  return (\r\n    <>\r\n      <ModalRoot activeModal=\"modal-prize\">\r\n        <ModalCard\r\n          id=\"modal-prize\"\r\n          onClose={() => {\r\n            setActiveModal(null);\r\n          }}\r\n          header={`Набор \"Among Us\"`}\r\n          icon={<Avatar size={72} src={APP_AVATAR} />}\r\n          caption={\r\n            <>\r\n              <Div\r\n                style={{\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"center\",\r\n                  flexDirection: \"column\",\r\n                }}\r\n              >\r\n                <Div>\r\n                  Чтобы поулчить приз, нажми кнопку \"Получить приз\"\r\n                </Div>\r\n\r\n                <Button\r\n                  size=\"l\"\r\n                  mode=\"commerce\"\r\n                  href=\"https://vk.me/public199716716\"\r\n                  target=\"_blank\"\r\n                  onClick={() => {}}\r\n                  style={{\r\n                    // backgroundColor: \"green\",\r\n                    color: \"white\",\r\n                    marginTop: \"30px\",\r\n                    width: \"260px\",\r\n                  }}\r\n                >\r\n                  <span style={{ fontSize: \"17px\" }}> Получить приз</span>\r\n                </Button>\r\n              </Div>\r\n            </>\r\n          }\r\n          // actions={[\r\n          //   {\r\n          //     title: \"Получить\",\r\n          //     mode: \"commerce\",\r\n          //     action: () => {\r\n          //       console.log(\"referrals\", referrals);\r\n          //       if (referrals === 0) setTimeout(openModalSharing, 10000);\r\n          //       addGroup();\r\n          //     },\r\n          //   },\r\n          // ]}\r\n        ></ModalCard>\r\n      </ModalRoot>\r\n    </>\r\n  );\r\n};\r\n\r\nexport { ModalPrize };\r\n","export const msToTime = (ms) => {\r\n    let seconds = Math.floor((ms / 1000) % 60);\r\n    let minutes = Math.floor((ms / (1000 * 60)) % 60);\r\n    let hours = Math.floor((ms / (1000 * 60 * 60)) % 24);\r\n\r\n    hours = hours < 10 ? \"0\" + hours : hours;\r\n    minutes = minutes < 10 ? \"0\" + minutes : minutes;\r\n    seconds = seconds < 10 ? \"0\" + seconds : seconds;\r\n\r\n    return `${hours}:${minutes}:${seconds}`;\r\n};","import React, { useState, useEffect, useRef } from \"react\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport Bounce from \"react-reveal/Bounce\";\nimport {\n  Input,\n  Panel,\n  Group,\n  Div,\n  Button,\n  HorizontalScroll,\n  PanelHeader,\n  Spinner,\n  FixedLayout,\n  PromoBanner,\n} from \"@vkontakte/vkui\";\n\nimport { GROUP_ID } from \"../constants\";\nimport { APIManager, msToTime } from \"../helpers\";\nconst { callMethod } = APIManager;\n\nlet interval;\n\nconst Home = ({\n  id,\n  go,\n  fetchedUser,\n  snackbar,\n  openAlert,\n  openPopoutSharing,\n  allowMessages,\n  attempts,\n  timeToAttempt,\n  getUser,\n  openModal,\n  getPlatform,\n}) => {\n  const [twist, setTwist] = useState(false);\n  const [angleRotate, setAngleRotate] = useState(\"\");\n  const arr = [\n    \"animationOne\",\n    \"animationTwo\",\n    \"animationThree\",\n    \"animationFour\",\n  ];\n  const [tta, setTta] = useState(timeToAttempt - Date.now());\n  const [res, setRes] = useState(true);\n\n  useEffect(() => {\n    console.log(\"рендерим хоум\");\n   \n  }, []);\n\n  useEffect(() => {\n    if (interval) clearInterval(interval);\n    interval = setInterval(() => {\n      setTta(timeToAttempt - Date.now());\n    }, 1000);\n    return () => clearInterval(interval);\n  }, [timeToAttempt]);\n\n  function getRandomArr() {\n    let a = 0;\n    const max = Math.floor(arr.length);\n    const resRandom = Math.floor(Math.random() * max);\n\n    bridge\n      .sendPromise(\"VKWebAppAllowMessagesFromGroup\", { group_id: GROUP_ID })\n      .then((res) => {\n        if (res.status === false) return;\n\n        return callMethod(\"twist\");\n      })\n      .then((res) => {\n        if (res.status === false) {\n          openAlert(\"Вы не можете крутить колесо\", \"red\");\n        } else {\n          a = arr[resRandom];\n\n          console.log(\"res\", resRandom + 1);\n          console.log(\"a\", a);\n          setAngleRotate(arr[resRandom]);\n\n          setTimeout(() => {\n            openModal(\"prize\");\n          }, (resRandom + 9) * 1000);\n          getUser();\n        }\n      })\n      .catch((err) => {\n        console.log(\"err\", err);\n        return openAlert(\n          \"Разрешите отправку сообщений, чтобы мы смогли отправить вам приз\",\n          \"red\"\n        );\n      });\n  }\n\n  return (\n    <Panel id={id}>\n      {/* <Div className={res ? \"imgPanelHome\" : \"imgPanelHome AdditionalAttempts\"}> */}\n      <Div className={getPlatform !== \"web\" ? \"imgPanelHome\" : \"imgPanelHome AdditionalAttempts\"}>\n        <Div\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            // marginTop: \"-100px\",\n            height: \"100px\",\n          }}\n        >\n          {tta > 0 ? (\n            <Bounce top duration={3000}>\n              <Div style={{ fontSize: \"15px\", color: \"white\" }}>\n                {\" \"}\n                ОСТАЛОСЬ ДО СЛЕДУЮЩЕЙ ПОПЫТКИ:{\" \"}\n              </Div>\n              <Div\n                style={{ fontSize: \"15px\", color: \"white\", marginTop: \"10px\" }}\n              >\n                {\" \"}\n                {msToTime(tta)}{\" \"}\n              </Div>\n            </Bounce>\n          ) : (\n            <Bounce top duration={3000}>\n              <Div style={{ fontSize: \"15px\", color: \"white\" }}>\n                Попытки: {attempts}\n              </Div>\n            </Bounce>\n          )}\n        </Div>\n\n        <Div\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n            justifyContent: \"flex-start\",\n            // marginTop: \"20px\",\n            height: \"320px\"\n          }}\n        >\n          <Div className=\"imgPointer\"></Div>\n          <Div className={`imgFortune ${angleRotate}`}></Div>\n        </Div>\n\n        <Button\n          size=\"l\"\n          mode=\"commerce\"\n          onClick={() => {\n            getRandomArr();\n            // getRandomInt(0, 360);\n            // setTwist(!twist);\n          }}\n          style={{\n            // backgroundColor: \"green\",\n            color: \"white\",\n            marginTop: \"30px\",\n            width: \"260px\",\n          }}\n          disabled={Boolean(tta > 0) || attempts === 0}\n        >\n          <span style={{ fontSize: \"17px\" }}> Крутить колесо</span>\n        </Button>\n        <Button\n          size=\"l\"\n          mode=\"overlay_primary\"\n          onClick={openPopoutSharing}\n          // data-to=\"additional-attempts\"\n          style={{\n            // backgroundColor: \"white\",\n            // color: \"black\",\n            marginTop: \"15px\",\n            // marginBottom: \"40px\",\n            width: \"260px\",\n          }}\n        >\n          <span style={{ fontSize: \"17px\" }}> Дополнительные попытки</span>\n        </Button>\n        {/* <Button\n          size=\"l\"\n          mode=\"overlay_primary\"\n          onClick={() => setRes(!res)}\n          style={{\n            marginTop: \"15px\",\n            marginBottom: \"40px\",\n            width: \"260px\",\n          }}\n        >\n          <span style={{ fontSize: \"17px\" }}> Сменить фон</span>\n        </Button> */}\n      </Div>\n      {snackbar}\n    </Panel>\n  );\n};\n\nexport { Home };\n","import React, { useState, useEffect } from \"react\";\nimport Spin from \"react-reveal/Spin\";\nimport {\n  Input,\n  Panel,\n  Group,\n  Div,\n  Button,\n  HorizontalScroll,\n  PanelHeader,\n  Spinner,\n  FixedLayout,\n  PromoBanner,\n} from \"@vkontakte/vkui\";\n\nconst AdditionalAttempts = ({ id, go, fetchedUser, snackbar, openAlert }) => {\n  return (\n    <Panel id={id}>\n      <Div className=\"imgPanelHome AdditionalAttempts\" >\n        <Div\n          style={{\n            color: \"white\",\n            fontSize: \"30px\",\n            fontWeight: \"bold\",\n            margin: \"0px 0px 10px 0px\",\n          }}\n        >\n          КОЛЕСО УДАЧИ\n        </Div>\n\n        <Div\n          style={{\n            width: \"94%\",\n            background: \"rgba(89, 76, 76, 0.5)\",\n            fontSize: \"20px\",\n            margin: \"0px 0px 20px 0px\",\n            padding: \"20px\",\n            color: \"white\",\n            borderRadius: \"15px\",\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n          }}\n        >\n          <Div>Крути колесо удачи и выигрывай крутые призы.</Div>\n          <Div>Каждый день тебе будет доступна одна бесплатная попытка.</Div>\n        </Div>\n\n        <Div className=\"imgPointer AdditionalAttempts\"></Div>\n        <Div className=\"imgFortune AdditionalAttempts animationInfinite\"></Div>\n\n        <Div\n          style={{\n            width: \"94%\",\n            background: \"rgba(89, 76, 76, 0.5)\",\n            fontSize: \"20px\",\n            margin: \"0px 0px 20px 0px\",\n            padding: \"20px\",\n            color: \"white\",\n            borderRadius: \"15px\",\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n          }}\n        >\n          <Div>Заработай дополнительные попытки, выполняя легкие задания.</Div>\n          {/* <Div>выполняя легкие задания.</Div> */}\n        </Div>\n\n        <Div\n          style={{\n            color: \"white\",\n            fontSize: \"20px\",\n            fontWeight: \"bold\",\n            margin: \"0px 0px 10px 0px\",\n          }}\n        >\n          ДОПОЛНИТЕЛЬНЫЕ ПОПЫТКИ\n        </Div>\n\n        <Button\n          size=\"l\"\n          onClick={go}\n          data-to=\"additional-attempts\"\n          style={{\n            backgroundColor: \"white\",\n            color: \"black\",\n            marginTop: \"15px\",\n            width: \"260px\",\n          }}\n        >\n          <span style={{ fontSize: \"17px\" }}> Поделиться в истории +1</span>\n        </Button>\n\n        <Button\n          size=\"l\"\n          onClick={go}\n          data-to=\"additional-attempts\"\n          style={{\n            backgroundColor: \"white\",\n            color: \"black\",\n            marginTop: \"15px\",\n            width: \"260px\",\n          }}\n        >\n          <span style={{ fontSize: \"17px\" }}> Поделиться на стене +1</span>\n        </Button>\n\n        <Button\n          size=\"l\"\n          onClick={go}\n          data-to=\"additional-attempts\"\n          style={{\n            backgroundColor: \"white\",\n            color: \"black\",\n            marginTop: \"15px\",\n            width: \"260px\",\n          }}\n        >\n          <span style={{ fontSize: \"17px\" }}>Разрешить уведомления +1</span>\n        </Button>\n\n\t\t\t\t<Button\n          size=\"l\"\n          onClick={go}\n          data-to=\"home\"\n          style={{\n            backgroundColor: \"green\",\n            color: \"white\",\n            marginTop: \"15px\",\n\t\t\t\t\t\twidth: \"350px\",\n\t\t\t\t\t\theight: \"50px\"\n          }}\n        >\n          <span style={{ fontSize: \"25px\" }}>Продолжить</span>\n        </Button>\n\n      </Div>\n      {snackbar}\n    </Panel>\n  );\n};\n\nexport { AdditionalAttempts };\n","import React, { useState, useEffect } from \"react\";\nimport Spin from \"react-reveal/Spin\";\nimport {\n  Input,\n  Panel,\n  Group,\n  Div,\n  Button,\n  HorizontalScroll,\n  PanelHeader,\n  Spinner,\n  FixedLayout,\n  PromoBanner,\n} from \"@vkontakte/vkui\";\n\nconst ApplicationDescription = ({ id, go, fetchedUser, snackbar, openAlert }) => {\n  const [twist, setTwist] = useState(false);\n  const [angleRotate, setAngleRotate] = useState(\"\");\n  const arr = [\n    \"animationOne\",\n    \"animationTwo\",\n    \"animationThree\",\n    \"animationFour\",\n  ];\n\n  useEffect(() => {\n    // getRandomArr();\n  }, []);\n\n  function getRandomArr() {\n    let a = 0;\n    const min = Math.ceil(0);\n    const max = Math.floor(arr.length - 1);\n    const res = Math.floor(Math.random() * (max - 0)) + min;\n\n    setAngleRotate(arr[res]);\n    setTimeout(() => {\n      setAngleRotate(\"\");\n    }, 1000);\n    a = arr[res];\n    console.log(\"res\", res);\n    console.log(\"a\", a);\n  }\n\n  return (\n    <Panel id={id}>\n      <Div className=\"imgPanelHome\">\n        <Div className=\"imgPointer\"></Div>\n\n        <Div className={`imgFortune ${angleRotate}`}></Div>\n\n        <Button\n          size=\"l\"\n          onClick={() => {\n            getRandomArr();\n            // getRandomInt(0, 360);\n            // setTwist(!twist);\n          }}\n          style={{\n            backgroundColor: \"green\",\n            color: \"white\",\n            marginTop: \"30px\",\n            width: \"260px\",\n          }}\n        >\n          <span style={{ fontSize: \"17px\" }}> Крутить колесо</span>\n        </Button>\n        <Button\n          size=\"l\"\n          onClick={() => openAlert(\"Ошибка !\", \"red\")}\n          style={{\n            backgroundColor: \"white\",\n            color: \"black\",\n            marginTop: \"15px\",\n            width: \"260px\",\n          }}\n        >\n          <span style={{ fontSize: \"17px\" }}> Дополнительные попытки</span>\n        </Button>\n      </Div>\n      {snackbar}\n    </Panel>\n  );\n};\n\nexport { ApplicationDescription };\n","import React, { useState, useEffect } from \"react\";\nimport { usePlatform, ANDROID, IOS } from \"@vkontakte/vkui\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport {\n  View,\n  ScreenSpinner,\n  TabbarItem,\n  Epic,\n  Div,\n  Tabbar,\n  ConfigProvider,\n  ActionSheet,\n  ActionSheetItem,\n  Snackbar,\n  Avatar,\n  CellButton,\n} from \"@vkontakte/vkui\";\nimport \"@vkontakte/vkui/dist/vkui.css\";\nimport Icon16Done from \"@vkontakte/icons/dist/16/done\";\nimport Icon16Cancel from \"@vkontakte/icons/dist/16/cancel\";\nimport Icon20StoryOutline from \"@vkontakte/icons/dist/20/story_outline\";\nimport Icon20ShareOutline from \"@vkontakte/icons/dist/20/share_outline\";\nimport Icon16CheckCircle from \"@vkontakte/icons/dist/16/check_circle\";\n\nimport { APIManager, sharing, msToTime } from \"./helpers\";\n\nimport { ModalPrize } from \"./modal\";\nimport {\n  APP_ID,\n  GROUP_ID,\n  QIWI_PUBLIC_KEY,\n  APP_AVATAR,\n  APP_IMG_SHARING,\n  APP_IMG_SHARING_WALL,\n  USER_ID,\n} from \"./constants\";\n\nimport { Home, AdditionalAttempts, ApplicationDescription } from \"./panels\";\n\nimport \"./styles/reset.sass\";\nimport \"./styles/img.sass\";\n\nconst { callMethod } = APIManager;\n\nconst App = () => {\n  const platform = usePlatform(); // android или ios\n  // let getPlatform = \"\";\n  const [getPlatform, setGetPlatform] = useState(\"\");\n  const [activePanel, setActivePanel] = useState(\"home\");\n  const [activeModal, setActiveModal] = useState(null);\n  const [fetchedUser, setUser] = useState(null);\n  const [popout, setPopout] = useState(null);\n  const [snackbar, setSnackbar] = useState(null);\n\n  // user fields\n  const [attempts, setAttempts] = useState(null);\n  const [timeToStoryShare, setTimeToStoryShare] = useState(0);\n  const [timeToWallShare, setTimeToWallShare] = useState(0);\n  const [timeToAttempt, setTimeToAttempt] = useState();\n\n  useEffect(() => {\n    bridge.subscribe(({ detail: { type, data } }) => {\n      if (type === \"VKWebAppUpdateConfig\") {\n        const schemeAttribute = document.createAttribute(\"scheme\");\n        schemeAttribute.value = data.scheme ? data.scheme : \"client_light\";\n        document.body.attributes.setNamedItem(schemeAttribute);\n      }\n    });\n    // async function fetchData() {\n    //   const user = await bridge.send(\"VKWebAppGetUserInfo\");\n    //   setUser(user);\n    //   setPopout(null);\n    // }\n    // fetchData();\n  }, []);\n\n  const getUser = () => {\n    callMethod(\"getUser\")\n      .then((res) => {\n        if (res.user) {\n          setAttempts(res.user.attempts);\n          setTimeToStoryShare(res.user.timeToStoryShare);\n          setTimeToWallShare(res.user.timeToWallShare);\n          setTimeToAttempt(res.user.timeToAttempt);\n        }\n        console.log(\"res\", res);\n      })\n      .catch((err) => {\n        console.log(\"err\", err);\n      });\n  };\n\n\n  useEffect(() => {\n    console.log(\"запуск приложения\");\n    getUser();\n  }, []);\n\n  \n  useEffect(() => {\n    // Определение ОС\n    bridge\n      .sendPromise(\"VKWebAppGetClientVersion\")\n      .then((result) => {\n        setGetPlatform(result.platform);\n        // getPlatform = result.platform;\n\n        console.log(\"result.platform\", getPlatform);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  // разрешение на отправку сообщений\n  function allowMessages() {\n    bridge\n      .send(\"VKWebAppAllowMessagesFromGroup\", { group_id: GROUP_ID })\n      .then((res) => {\n        console.log(\"res\", res);\n      })\n      .catch((err) => {\n        setTimeout(allowMessages, 5000);\n        console.log(\"err\", err);\n      });\n  }\n\n  // Подписка на группу\n  function addGroup() {\n    bridge\n      .send(\"VKWebAppJoinGroup\", { group_id: GROUP_ID })\n      .then(({ result }) => {\n        console.log(\"VKWebAppJoinGroup\", result);\n      });\n  }\n\n  // всплывающие уведомление с информацией\n  function openAlert(text, backgroundColor = \"green\") {\n    if (snackbar) return;\n    setSnackbar(\n      <Snackbar\n        duration=\"7000\"\n        layout=\"horizontal\"\n        onClose={() => setSnackbar(null)}\n        before={\n          <Avatar size={24} style={{ backgroundColor }}>\n            {backgroundColor === \"green\" ? (\n              <Icon16Done fill=\"#fff\" width={14} height={14} />\n            ) : (\n              <Icon16Cancel fill=\"#fff\" width={14} height={14} />\n            )}\n          </Avatar>\n        }\n      >\n        {text}\n      </Snackbar>\n    );\n  }\n\n  function openPopoutSharing() {\n    setActiveModal(null);\n    setPopout(\n      <>\n        <ActionSheet\n          // header={platform === IOS && <Div>Дополнительные попытки</Div>}\n          // text={\n          //   platform === IOS && (\n          //     <Div>\n          //       За каждое выполненное задание Вы получите по одной попытке\n          //     </Div>\n          //   )\n          // }\n          onClose={() => setPopout(null)}\n        >\n          <ActionSheetItem autoclose>\n            {/* <div style={{ fontSize: \"13px\", color: \"#818C99\" }}>\n              Дополнительные попытки\n            </div> */}\n            <div style={{ fontSize: \"13px\", color: \"#818C99\" }}>\n              За каждое выполненное задание Вы получите по одной попытке раз в\n              24 часа\n            </div>\n          </ActionSheetItem>\n\n          <ActionSheetItem\n            before={<Icon20StoryOutline width={20} height={20} />}\n            autoclose\n            onClick={() => {\n              if (timeToStoryShare < Date.now())\n                sharing(\"story\", openAlert, null, getUser);\n              else\n                openAlert(\n                  `Получить бонусную попытку за историю можно через ${msToTime(\n                    timeToStoryShare - Date.now()\n                  )}`,\n                  'red'\n                );\n            }}\n          >\n            Поделиться в истории\n          </ActionSheetItem>\n          <ActionSheetItem\n            before={<Icon20ShareOutline width={20} height={20} />}\n            autoclose\n            onClick={(e) => {\n              if (timeToWallShare < Date.now())\n                sharing(\"share-wall\", openAlert, e, getUser);\n              else\n                openAlert(\n                  `Получить бонусную попытку за пост можно через ${msToTime(\n                    timeToWallShare - Date.now()\n                  )}`,\n                  'red'\n                );\n            }}\n          >\n            Поделиться на стене\n          </ActionSheetItem>\n          <ActionSheetItem\n            before={<Icon16CheckCircle width={20} height={20} />}\n            autoclose\n            onClick={addGroup}\n          >\n            Подписаться на группу\n          </ActionSheetItem>\n\n          {/* <ActionSheetItem\n            autoclose\n            onClick={(e) => sharing(\"app-notification\")}\n          >\n            Разрешить уведомления +1\n          </ActionSheetItem> */}\n        </ActionSheet>\n      </>\n    );\n  }\n\n  function openModal(type) {\n    setActiveModal(\n      <ModalPrize\n        setActiveModal={setActiveModal}\n        APP_AVATAR={APP_AVATAR}\n        getUser={getUser}\n        type={type}\n      />\n    );\n  }\n\n  const go = (e) => {\n    setActivePanel(e.currentTarget.dataset.to);\n  };\n\n  return (\n    <View activePanel={activePanel} popout={popout} modal={activeModal}>\n      <Home\n        id=\"home\"\n        fetchedUser={fetchedUser}\n        go={go}\n        snackbar={snackbar}\n        openAlert={openAlert}\n        openPopoutSharing={openPopoutSharing}\n        allowMessages={allowMessages}\n        attempts={attempts}\n        timeToAttempt={timeToAttempt}\n        getUser={getUser}\n        openModal={openModal}\n        getPlatform={getPlatform}\n      />\n      <AdditionalAttempts\n        id=\"additional-attempts\"\n        fetchedUser={fetchedUser}\n        go={go}\n        snackbar={snackbar}\n        openAlert={openAlert}\n      />\n      <ApplicationDescription\n        id=\"application-description\"\n        fetchedUser={fetchedUser}\n        go={go}\n        snackbar={snackbar}\n        openAlert={openAlert}\n      />\n    </View>\n  );\n};\nexport default App;\n","import \"core-js/features/map\";\nimport \"core-js/features/set\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n// if (process.env.NODE_ENV === \"development\") {\n  import(\"./eruda\").then(({ default: eruda }) => {}); //runtime download\n// }\n"],"sourceRoot":""}